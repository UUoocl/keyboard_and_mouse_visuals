<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Four-sided colored SVG rectangle (CSS variable size)</title>
  <style>
    :root {
      /* Rectangle size can be in px or percent (e.g. 80%).
         Example: --rect-w: 80%; --rect-h: 60%; */
      --rect-w: 95%;
      --rect-h: 95%;
      --border-thickness: 12px;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    /* Make the SVG fill the window */
    svg {
      position: fixed;
      inset: 0; /* top:0; right:0; bottom:0; left:0 */
      width: 100vw;
      height: 100vh;
      display: block;
      overflow: visible;
    }

    /* helpful for debugging: show CSS variable values when hovered */
    .info {
      position: fixed;
      right: 12px;
      bottom: 12px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      font-family: monospace;
      padding: 6px 8px;
      border-radius: 6px;
      font-size: 12px;
      pointer-events: none;
    }
  </style>
</head>
<body>

<svg id="svgRoot" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Rectangle with four colored edges" preserveAspectRatio="none">
  <!-- background -->
  <rect x="0" y="0" width="100%" height="100%" fill="#11100000" />

  <!-- main rectangle (transparent fill so background shows) -->
  <rect id="mainRect" x="0" y="0" width="0" height="0" fill="none" stroke="none" />

  <!-- four colored edges (will be positioned by JS) -->
  <rect id="topEdge"    x="0" y="0" width="0" height="0" fill="#e74c3c" />
  <rect id="leftEdge"   x="0" y="0" width="0" height="0" fill="#27ae60" />
  <rect id="rightEdge"  x="0" y="0" width="0" height="0" fill="#2980b9" />
  <rect id="bottomEdge" x="0" y="0" width="0" height="0" fill="#f39c12" />
</svg>

<div class="info" id="infoBox" aria-hidden="true"></div>

<script id="boundaryScript">
  // Read CSS variable string (e.g. "80%" or "400px") and return number in pixels.
  function parseSize(value, axisLength) {
    if (!value) return 0;
    value = value.trim();
    if (value.endsWith('%')) {
      const pct = parseFloat(value.slice(0, -1));
      if (isNaN(pct)) return 0;
      return axisLength * pct / 100;
    }
    if (value.endsWith('px')) {
      const px = parseFloat(value.slice(0, -2));
      return isNaN(px) ? 0 : px;
    }
    // fallback: try to parse as number (px)
    const num = parseFloat(value);
    return isNaN(num) ? 0 : num;
  }

  function updateEdges() {
    const rootStyles = getComputedStyle(document.documentElement);
    const svg = document.getElementById('svgRoot');
    const W = window.innerWidth;
    const H = window.innerHeight;

    const rectWraw = rootStyles.getPropertyValue('--rect-w') || '100%';
    const rectHraw = rootStyles.getPropertyValue('--rect-h') || '100%';
    const thicknessRaw = rootStyles.getPropertyValue('--border-thickness') || '12px';

    const rectW = parseSize(rectWraw, W);
    const rectH = parseSize(rectHraw, H);
    const thickness = parseSize(thicknessRaw, Math.min(W, H));

    // center the rectangle
    const x = Math.round((W - rectW) / 2);
    const y = Math.round((H - rectH) / 2);

    const mainRect = document.getElementById('mainRect');
    mainRect.setAttribute('x', x);
    mainRect.setAttribute('y', y);
    mainRect.setAttribute('width', Math.max(0, Math.round(rectW)));
    mainRect.setAttribute('height', Math.max(0, Math.round(rectH)));

    // top edge
    const top = document.getElementById('topEdge');
    top.setAttribute('x', x);
    top.setAttribute('y', y);
    top.setAttribute('width', Math.max(0, Math.round(rectW)));
    top.setAttribute('height', Math.max(0, Math.round(thickness)));

    // left edge
    const left = document.getElementById('leftEdge');
    left.setAttribute('x', x);
    left.setAttribute('y', y);
    left.setAttribute('width', Math.max(0, Math.round(thickness)));
    left.setAttribute('height', Math.max(0, Math.round(rectH)));

    // right edge
    const right = document.getElementById('rightEdge');
    right.setAttribute('x', x + Math.max(0, Math.round(rectW)) - Math.max(0, Math.round(thickness)));
    right.setAttribute('y', y);
    right.setAttribute('width', Math.max(0, Math.round(thickness)));
    right.setAttribute('height', Math.max(0, Math.round(rectH)));

    // bottom edge
    const bottom = document.getElementById('bottomEdge');
    bottom.setAttribute('x', x);
    bottom.setAttribute('y', y + Math.max(0, Math.round(rectH)) - Math.max(0, Math.round(thickness)));
    bottom.setAttribute('width', Math.max(0, Math.round(rectW)));
    bottom.setAttribute('height', Math.max(0, Math.round(thickness)));

    // update info box
    const info = document.getElementById('infoBox');
    info.textContent = `rect: ${Math.round(rectW)}×${Math.round(rectH)} px, thickness: ${Math.round(thickness)} px`;
    info.textContent += ` x min: ${50},  × max: ${50} px, y min: ${23}, y max: px`;
  }

  // update on load and on resize
  window.addEventListener('load', updateEdges);
  window.addEventListener('resize', updateEdges);

  // also observe changes to the documentElement style attribute (so changing CSS variables via JS is picked up)
  const docObserver = new MutationObserver(updateEdges);
  docObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['style'] });
</script>

</body>
</html>